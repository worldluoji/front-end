# 动态表单要点
## 动态表单实现的三个核心要素
- 第一点，梳理要用到的表单数据组件；
- 第二点，根据表单数据组件种类制定数据格式；
- 第三点，根据数据格式的内容，来渲染表单数据组件的自定义组合，这个自定义组合就是所需要的表单结果。

实际业务需要的动态表单功能可不只这些，我们还要考虑表单校验逻辑、扩展新的表单数据组件等等。

## 四点实现要素
- 定义表单数据组件的统一数据结构；
- 定义默认支持的数据表单组件；
- 支持自定义表单字段的校验规则；
- 支持根据统一数据结构，扩展自定义表单数据组件。我们就不能只支持默认表单数据组件的表单生成。如果不能扩展新的表单数据组件，以后有新的表单需求，要用到自定义的表单数据组件，动态表单组件就不能快速配置生成表单了，需要我们从零开发一个支持自定义数据组件的表单。这就失去动态表单原本提效的意义了。

比如，表单内数据组件有多选框，单选框，下拉框等，其数据格式可定义如下：
```
const props = defineProps<{
  // 传入的数据值
  value: string | any;
  // 组件内部选项参数，例如多选框，单选框，下拉框的选项数据
  options: Array<{ name: string; value: string }>;
}>();

const emits = defineEmits<{
  // 监听组件内部数据变化事件
  (e: 'change', value: string): void;
}>();
```