# 常用注解

## 三个基础注解
1. **@Environment(\.modelContext) private var modelContext**

   - **作用**：`@Environment` 是一个属性包装器，它允许视图访问环境值。在这里，`\.modelContext` 是一个特定的环境键，它提供了对当前 `NSManagedObjectContext` 的引用。`NSManagedObjectContext` 是 Swfit Data/Core Data框架中的一个核心对象，用于管理和持久化数据。
   - **使用场景**：当你需要在一个 SwiftUI 视图中执行 Core Data 操作（如添加、删除或更新实体）时，可以使用 `modelContext` 来访问和操作数据模型。
   - **示例**：
     ```swift
     @Environment(\.modelContext) private var modelContext

     func addItem() {
         let newItem = Item(context: modelContext)
         // 设置新项目的属性
         modelContext.insert(newItem)
         try? modelContext.save()
     }
     ```

2. **@Query private var items: [Item]**

   - **作用**：`@Query` 是一个属性包装器，它用于从 Swfit Data/Core Data 获取一组实体。这个包装器会自动监听数据库的变化，并在数据发生变化时更新绑定的变量。
   - **使用场景**：当你需要在视图中显示一个实体列表，并且希望这些数据显示最新的数据库内容时，可以使用 `@Query`。这样可以确保视图总是反映最新的数据状态。
   - **示例**：
     ```swift
     @Query private var items: [Item]

     var body: some View {
         List(items) { item in
             Text(item.name ?? "Unnamed")
         }
     }
     ```

3. **@State private var showUIKitView = false**

State is a value, or a set of values, that can change over time, and that affects a view’s behavior, content, or layout. You use a property with the @State attribute to add state to a view.

   - **作用**：`@State` 是一个属性包装器，它用于声明视图内部的状态。`showUIKitView` 是一个布尔类型的变量，表示是否显示某个 UIKit 视图。当这个变量的值改变时，SwiftUI 会自动重新渲染视图。
   - **使用场景**：当你需要控制视图内部的状态变化，并且这些变化会影响 UI 的呈现时，可以使用 `@State`。在这个例子中，`showUIKitView` 可能用来控制一个 UIKit 视图的显示或隐藏。
   - **示例**：
     ```swift
     @State private var showUIKitView = false

     var body: some View {
         Button("Show UIKit View") {
             showUIKitView.toggle()
         }
         .sheet(isPresented: $showUIKitView, content: {
             MyUIKitViewControllerRepresentable()
         })
     }
     ```

在这三个注解中，`@Environment` 和 `@Query` 与 Swift Data/Core Data 相关，而 `@State` 则是用于管理视图内部的状态。这些工具使得在 SwiftUI 中进行数据管理和状态管理变得更加简洁和高效。