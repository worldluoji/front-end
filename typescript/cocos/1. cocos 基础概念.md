# cocos 基础概念

以下是 Cocos Creator 3.x 开发中必须掌握的重要概念及解释，涵盖引擎核心机制和开发实践：

---

### 1. **节点（Node）与组件（Component）**
• **节点**：场景中的基本实体，可以表示角色、UI、场景物体、灯光等，具有位置、旋转、缩放等属性。
• **组件**：通过 `Component` 基类派生的功能模块（如 `Sprite`、`RigidBody`），它能够挂载到场景中的节点上，用于控制节点的行为。
• **关键点**：所有游戏对象均基于 **节点+组件** 的模式构建，通过组合实现复杂逻辑。

---

### 2. **场景（Scene）与资源（Asset）**
• **场景**：游戏的基本组织单位，包含节点层级结构和场景数据（灯光、摄像机等）。
• **资源**：外部导入或引擎生成的数据（图片、预制体、动画等），通过 **Asset 数据库** 统一管理。
• **动态加载**：使用 `resources.load` 异步加载资源，需注意内存释放（`release`）。

---

### 3. **渲染管线与摄像机（Camera）**
• **渲染管线**：3.x 默认使用 **前向渲染管线**，支持延迟渲染（性能要求较高）。
• **摄像机**：控制画面视角，需配置 **ClearFlags**（背景处理）、**投影模式**（正交/透视）等参数。
• **材质（Material）与 Shader**：通过材质绑定 Shader 实现自定义渲染效果（如溶解、边缘光）。

---

### 4. **物理系统**
• **Builtin 物理引擎**：轻量级 3D 物理引擎，适合简单碰撞检测。
• **Cannon.js**：更复杂的 3D 物理引擎（默认集成），支持刚体动力学、碰撞响应。
• **碰撞组件**：`Collider` 组件定义碰撞形状，`RigidBody` 控制物理行为（速度、重力）。

---

### 5. **动画系统**
• **属性动画**：通过 `Animation` 组件控制节点属性（位置、颜色）的插值动画。
• **骨骼动画**：使用 **DragonBones** 或 **Spine** 制作角色骨骼动画。
• **动画事件**：在动画时间轴上绑定自定义逻辑（如攻击判定帧）。

---

### 6. **UI 系统**
• **多分辨率适配**：使用 `Widget` 组件和 `Canvas` 的 **Design Resolution** 适配不同屏幕。
• **UI 组件**：`Button`、`Label`、`ScrollView` 等，通过 `UITransform` 控制布局。
• **事件系统**：通过 `EventTarget` 监听触控、点击事件，或使用 `input.on` 处理全局输入。

---

### 7. **脚本开发与生命周期**
• **脚本生命周期**：`onLoad`（初始化）、`start`（首次激活）、`update`（每帧更新）、`onDestroy`（销毁）。
• **模块化编程**：使用 `import/export` 组织代码，通过 `@property` 暴露属性到编辑器。
• **类型系统**：强类型 TypeScript 支持，避免运行时错误。

---

### 8. **预制体（Prefab）与动态实例化**
• **预制体**：可复用的节点模板，通过编辑器创建并保存为 `.prefab` 文件。
• **动态生成**：使用 `instantiate` 方法克隆预制体，配合对象池优化性能。

---

### 9. **跨平台发布与优化**
• **构建模板**：针对不同平台（Web、iOS、Android、微信小游戏）配置参数。
• **性能优化**：减少 DrawCall（合并图集）、控制内存（纹理压缩）、使用批处理（Batching）。
• **调试工具**：Chrome DevTools 远程调试、引擎性能分析器（Profiler）。

---

### 10. **扩展编辑器**
• **自定义 Inspector**：通过 `@inspector` 注解或扩展包定制组件属性面板。
• **插件开发**：使用 JavaScript 编写编辑器插件，扩展工具链（如自动化资源处理）。

---

### 其他重要概念
• **ECS 架构**：可选用于复杂游戏逻辑（需结合第三方库或自定义框架）。
• **网络通信**：WebSocket、HTTP 请求封装，状态同步与帧同步策略。
• **音频管理**：使用 `AudioSource` 控制背景音乐与音效，注意移动端兼容性。

---

